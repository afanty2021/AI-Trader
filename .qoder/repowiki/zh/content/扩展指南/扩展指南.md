# æ‰©å±•æŒ‡å—

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [main.py](file://main.py)
- [agent/base_agent/base_agent.py](file://agent/base_agent/base_agent.py)
- [agent/base_agent_astock/base_agent_astock.py](file://agent/base_agent_astock/base_agent_astock.py)
- [agent_tools/start_mcp_services.py](file://agent_tools/start_mcp_services.py)
- [agent_tools/tool_math.py](file://agent_tools/tool_math.py)
- [agent_tools/tool_trade.py](file://agent_tools/tool_trade.py)
- [prompts/agent_prompt.py](file://prompts/agent_prompt.py)
- [prompts/agent_prompt_astock.py](file://prompts/agent_prompt_astock.py)
- [configs/default_config.json](file://configs/default_config.json)
- [configs/astock_config.json](file://configs/astock_config.json)
- [tools/general_tools.py](file://tools/general_tools.py)
- [tools/price_tools.py](file://tools/price_tools.py)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ](#ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ)
3. [åˆ›å»ºè‡ªå®šä¹‰ä»£ç†ç±»](#åˆ›å»ºè‡ªå®šä¹‰ä»£ç†ç±»)
4. [æ³¨å†Œæ–°ä»£ç†åˆ°ç³»ç»Ÿ](#æ³¨å†Œæ–°ä»£ç†åˆ°ç³»ç»Ÿ)
5. [æ·»åŠ MCPå·¥å…·](#æ·»åŠ mcpå·¥å…·)
6. [ä¿®æ”¹æç¤ºè¯](#ä¿®æ”¹æç¤ºè¯)
7. [é…ç½®ç®¡ç†](#é…ç½®ç®¡ç†)
8. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
9. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ç®€ä»‹

æœ¬æŒ‡å—æ—¨åœ¨å¸®åŠ©é«˜çº§ç”¨æˆ·æ·±å…¥äº†è§£AIäº¤æ˜“ç³»ç»Ÿçš„æ‰©å±•æœºåˆ¶ï¼Œæä¾›è¯¦ç»†çš„æ­¥éª¤å’Œç¤ºä¾‹æ¥åˆ›å»ºè‡ªå®šä¹‰ä»£ç†ã€æ·»åŠ æ–°å·¥å…·ä»¥åŠä¿®æ”¹ç³»ç»Ÿè¡Œä¸ºã€‚é€šè¿‡æœ¬æŒ‡å—ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼š

- åˆ›å»ºåŸºäºBaseAgentçš„è‡ªå®šä¹‰ä»£ç†ç±»
- æ³¨å†Œæ–°ä»£ç†åˆ°ç³»ç»ŸAGENTS_REGISTRY
- å¼€å‘å’Œé›†æˆæ–°çš„MCPå·¥å…·
- ä¿®æ”¹æç¤ºè¯ä»¥æ”¹å˜AIå†³ç­–é€»è¾‘
- é…ç½®ç³»ç»Ÿä»¥æ”¯æŒä¸åŒçš„å¸‚åœºå’Œç­–ç•¥

## ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

AIäº¤æ˜“ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼š

```mermaid
graph TB
subgraph "ä¸»ç¨‹åºå±‚"
Main[main.py]
Config[é…ç½®ç®¡ç†]
end
subgraph "ä»£ç†å±‚"
BaseAgent[BaseAgentåŸºç±»]
AStockAgent[BaseAgentAStockåŸºç±»]
CustomAgent[è‡ªå®šä¹‰ä»£ç†ç±»]
end
subgraph "å·¥å…·å±‚"
MCP[MCPæœåŠ¡ç®¡ç†å™¨]
MathTool[Mathå·¥å…·]
TradeTool[äº¤æ˜“å·¥å…·]
SearchTool[æœç´¢å·¥å…·]
PriceTool[ä»·æ ¼å·¥å…·]
end
subgraph "æç¤ºè¯å±‚"
PromptUS[USå¸‚åœºæç¤ºè¯]
PromptCN[Aè‚¡æç¤ºè¯]
end
subgraph "æ•°æ®å±‚"
PriceData[ä»·æ ¼æ•°æ®]
PositionData[æŒä»“æ•°æ®]
LogData[æ—¥å¿—æ•°æ®]
end
Main --> BaseAgent
Main --> AStockAgent
Main --> CustomAgent
BaseAgent --> MCP
AStockAgent --> MCP
CustomAgent --> MCP
MCP --> MathTool
MCP --> TradeTool
MCP --> SearchTool
MCP --> PriceTool
BaseAgent --> PromptUS
AStockAgent --> PromptCN
MCP --> PriceData
BaseAgent --> PositionData
BaseAgent --> LogData
```

**å›¾è¡¨æ¥æº**
- [main.py](file://main.py#L1-L50)
- [agent/base_agent/base_agent.py](file://agent/base_agent/base_agent.py#L1-L100)
- [agent/base_agent_astock/base_agent_astock.py](file://agent/base_agent_astock/base_agent_astock.py#L1-L100)

**ç« èŠ‚æ¥æº**
- [main.py](file://main.py#L1-L282)
- [agent/base_agent/base_agent.py](file://agent/base_agent/base_agent.py#L1-L647)

## åˆ›å»ºè‡ªå®šä¹‰ä»£ç†ç±»

### ç»§æ‰¿BaseAgentåŸºç±»

è¦åˆ›å»ºè‡ªå®šä¹‰ä»£ç†ï¼Œæ‚¨éœ€è¦ç»§æ‰¿ç°æœ‰çš„BaseAgentæˆ–BaseAgentAStockåŸºç±»ã€‚ä»¥ä¸‹æ˜¯åˆ›å»ºè‡ªå®šä¹‰ä»£ç†çš„åŸºæœ¬æ­¥éª¤ï¼š

#### 1. åŸºç¡€ä»£ç†ç±»ç»“æ„

```mermaid
classDiagram
class BaseAgent {
+string signature
+string basemodel
+string[] stock_symbols
+Dict mcp_config
+int max_steps
+int max_retries
+float base_delay
+float initial_cash
+string init_date
+string market
+initialize() void
+run_trading_session() void
+register_agent() void
+get_position_summary() Dict
}
class CustomAgent {
+custom_method() void
+custom_logic() void
+override_run_trading_session() void
}
class BaseAgentAStock {
+string market
+string[] DEFAULT_SSE50_SYMBOLS
+custom_cn_rules() void
}
BaseAgent <|-- CustomAgent : "ç»§æ‰¿"
BaseAgent <|-- BaseAgentAStock : "ç»§æ‰¿"
```

**å›¾è¡¨æ¥æº**
- [agent/base_agent/base_agent.py](file://agent/base_agent/base_agent.py#L100-L200)
- [agent/base_agent_astock/base_agent_astock.py](file://agent/base_agent_astock/base_agent_astock.py#L100-L200)

#### 2. è‡ªå®šä¹‰ä»£ç†å®ç°ç¤ºä¾‹

åˆ›å»ºä¸€ä¸ªæ–°çš„ä»£ç†ç±»æ–‡ä»¶ï¼Œä¾‹å¦‚ `agent/custom_agent.py`ï¼š

```python
# å¯¼å…¥å¿…è¦çš„æ¨¡å—
from agent.base_agent.base_agent import BaseAgent
from prompts.agent_prompt import get_agent_system_prompt

class CustomTradingAgent(BaseAgent):
    """
    è‡ªå®šä¹‰äº¤æ˜“ä»£ç†ç±»ç¤ºä¾‹
    """
    
    def __init__(self, signature: str, basemodel: str, **kwargs):
        # è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–
        super().__init__(signature, basemodel, **kwargs)
        
        # è‡ªå®šä¹‰é…ç½®
        self.custom_param = kwargs.get('custom_param', 'default_value')
        self.trading_strategy = kwargs.get('strategy', 'momentum')
    
    async def run_trading_session(self, today_date: str) -> None:
        """
        è‡ªå®šä¹‰äº¤æ˜“ä¼šè¯é€»è¾‘
        
        Args:
            today_date: äº¤æ˜“æ—¥æœŸ
        """
        print(f"ğŸš€ å¯åŠ¨è‡ªå®šä¹‰äº¤æ˜“ä¼šè¯: {today_date}")
        
        # è®¾ç½®æ—¥å¿—
        log_file = self._setup_logging(today_date)
        
        # ä½¿ç”¨è‡ªå®šä¹‰æç¤ºè¯
        system_prompt = self._get_custom_system_prompt(today_date)
        
        # åˆ›å»ºAIä»£ç†
        self.agent = create_agent(
            self.model,
            tools=self.tools,
            system_prompt=system_prompt
        )
        
        # è‡ªå®šä¹‰äº¤æ˜“å¾ªç¯
        await self._custom_trading_loop(today_date, log_file)
    
    def _get_custom_system_prompt(self, today_date: str) -> str:
        """
        è·å–è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯
        """
        # åŸºäºç°æœ‰æç¤ºè¯æ¨¡æ¿è¿›è¡Œæ‰©å±•
        base_prompt = get_agent_system_prompt(today_date, self.signature, self.market)
        
        # æ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤
        custom_instructions = """
        - å®æ–½è‡ªå®šä¹‰äº¤æ˜“ç­–ç•¥
        - å…³æ³¨ç‰¹å®šçš„æŠ€æœ¯æŒ‡æ ‡
        - ä½¿ç”¨è‡ªå®šä¹‰çš„é£é™©æ§åˆ¶è§„åˆ™
        """
        
        return base_prompt + "\n\n" + custom_instructions
    
    async def _custom_trading_loop(self, today_date: str, log_file: str) -> None:
        """
        è‡ªå®šä¹‰äº¤æ˜“å¾ªç¯é€»è¾‘
        """
        # å®ç°æ‚¨çš„è‡ªå®šä¹‰äº¤æ˜“ç®—æ³•
        # ...
        pass
```

**ç« èŠ‚æ¥æº**
- [agent/base_agent/base_agent.py](file://agent/base_agent/base_agent.py#L300-L500)

### Aè‚¡ä¸“ç”¨ä»£ç†ç±»

å¦‚æœæ‚¨éœ€è¦ä¸ºAè‚¡å¸‚åœºåˆ›å»ºä¸“é—¨çš„ä»£ç†ç±»ï¼š

```python
from agent.base_agent_astock.base_agent_astock import BaseAgentAStock

class CustomAStockAgent(BaseAgentAStock):
    """
    Aè‚¡ä¸“ç”¨è‡ªå®šä¹‰äº¤æ˜“ä»£ç†
    """
    
    def __init__(self, signature: str, basemodel: str, **kwargs):
        super().__init__(signature, basemodel, **kwargs)
        
        # Aè‚¡ç‰¹æœ‰çš„é…ç½®
        self.cn_trading_rules = {
            'lot_size': 100,  # ä¸€æ‰‹=100è‚¡
            't_plus_1': True,  # T+1äº¤æ˜“è§„åˆ™
            'price_limits': True  # æ¶¨è·Œå¹…é™åˆ¶
        }
    
    async def run_trading_session(self, today_date: str) -> None:
        """
        Aè‚¡ä¸“ç”¨äº¤æ˜“ä¼šè¯
        """
        print(f"ğŸ“ˆ å¯åŠ¨Aè‚¡äº¤æ˜“ä¼šè¯: {today_date}")
        
        # ä½¿ç”¨Aè‚¡ä¸“ç”¨æç¤ºè¯
        system_prompt = get_agent_system_prompt_astock(today_date, self.signature)
        
        # å®ç°Aè‚¡ç‰¹å®šçš„äº¤æ˜“é€»è¾‘
        # ...
```

**ç« èŠ‚æ¥æº**
- [agent/base_agent_astock/base_agent_astock.py](file://agent/base_agent_astock/base_agent_astock.py#L300-L500)

## æ³¨å†Œæ–°ä»£ç†åˆ°ç³»ç»Ÿ

### ä¿®æ”¹AGENTS_REGISTRY

è¦å°†æ–°åˆ›å»ºçš„ä»£ç†ç±»æ³¨å†Œåˆ°ç³»ç»Ÿä¸­ï¼Œéœ€è¦ä¿®æ”¹ `main.py` ä¸­çš„ `AGENT_REGISTRY` å­—å…¸ï¼š

```python
# åœ¨ main.py çš„ AGENT_REGISTRY ä¸­æ·»åŠ æ–°ä»£ç†
AGENT_REGISTRY = {
    "BaseAgent": {
        "module": "agent.base_agent.base_agent",
        "class": "BaseAgent"
    },
    "BaseAgent_Hour": {
        "module": "agent.base_agent.base_agent_hour",
        "class": "BaseAgent_Hour"
    },
    "CustomAgent": {
        "module": "agent.custom_agent",
        "class": "CustomTradingAgent"
    },
    "CustomAStockAgent": {
        "module": "agent.custom_agent",
        "class": "CustomAStockAgent"
    }
}
```

### åŠ¨æ€å¯¼å…¥æœºåˆ¶

ç³»ç»Ÿä½¿ç”¨åŠ¨æ€å¯¼å…¥æœºåˆ¶æ¥åŠ è½½ä»£ç†ç±»ï¼š

```mermaid
sequenceDiagram
participant Main as "main.py"
participant Registry as "AGENT_REGISTRY"
participant Import as "importlib"
participant Agent as "ä»£ç†ç±»"
Main->>Registry : æŸ¥æ‰¾ä»£ç†ç±»å‹
Registry-->>Main : è¿”å›æ¨¡å—è·¯å¾„å’Œç±»å
Main->>Import : åŠ¨æ€å¯¼å…¥æ¨¡å—
Import-->>Main : è¿”å›æ¨¡å—å¯¹è±¡
Main->>Agent : è·å–ç±»å¯¹è±¡
Agent-->>Main : è¿”å›ä»£ç†ç±»
Main->>Agent : åˆ›å»ºå®ä¾‹
Agent-->>Main : è¿”å›ä»£ç†å®ä¾‹
```

**å›¾è¡¨æ¥æº**
- [main.py](file://main.py#L20-L50)

**ç« èŠ‚æ¥æº**
- [main.py](file://main.py#L15-L60)

## æ·»åŠ MCPå·¥å…·

### MCPæ¶æ„æ¦‚è¿°

MCPï¼ˆModel Context Protocolï¼‰æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒå·¥å…·æ¥å£ï¼Œå…è®¸AIä»£ç†è°ƒç”¨å„ç§åŠŸèƒ½å·¥å…·ï¼š

```mermaid
graph LR
subgraph "MCPæœåŠ¡ç®¡ç†"
Manager[MCPServiceManager]
Ports[ç«¯å£é…ç½®]
end
subgraph "MCPå·¥å…·æœåŠ¡"
Math[æ•°å­¦è®¡ç®—æœåŠ¡]
Trade[äº¤æ˜“æœåŠ¡]
Search[æœç´¢æœåŠ¡]
Price[ä»·æ ¼æœåŠ¡]
end
subgraph "å®¢æˆ·ç«¯è¿æ¥"
Client[MultiServerMCPClient]
Tools[å·¥å…·é›†åˆ]
end
Manager --> Ports
Ports --> Math
Ports --> Trade
Ports --> Search
Ports --> Price
Client --> Math
Client --> Trade
Client --> Search
Client --> Price
Tools --> Client
```

**å›¾è¡¨æ¥æº**
- [agent_tools/start_mcp_services.py](file://agent_tools/start_mcp_services.py#L20-L80)

### åˆ›å»ºè‡ªå®šä¹‰MCPå·¥å…·

#### 1. æ•°å­¦å·¥å…·ç¤ºä¾‹

å‚è€ƒç°æœ‰çš„æ•°å­¦å·¥å…·å®ç°ï¼š

```python
import os
from dotenv import load_dotenv
from fastmcp import FastMCP
import sys

# æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ°Pythonè·¯å¾„
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
from tools.general_tools import get_config_value

load_dotenv()

# åˆ›å»ºMCPæœåŠ¡å™¨å®ä¾‹
mcp = FastMCP("CustomTools")

@mcp.tool()
def custom_analysis(data: dict, indicators: list) -> dict:
    """
    è‡ªå®šä¹‰æŠ€æœ¯åˆ†æå·¥å…·
    
    Args:
        data: å†å²ä»·æ ¼æ•°æ®
        indicators: è¦è®¡ç®—çš„æŠ€æœ¯æŒ‡æ ‡åˆ—è¡¨
        
    Returns:
        åŒ…å«åˆ†æç»“æœçš„å­—å…¸
    """
    # å®ç°è‡ªå®šä¹‰åˆ†æé€»è¾‘
    analysis_results = {}
    
    for indicator in indicators:
        if indicator == 'moving_average':
            # è®¡ç®—ç§»åŠ¨å¹³å‡çº¿
            analysis_results['ma'] = calculate_ma(data)
        elif indicator == 'rsi':
            # è®¡ç®—ç›¸å¯¹å¼ºå¼±æŒ‡æ•°
            analysis_results['rsi'] = calculate_rsi(data)
        # æ·»åŠ æ›´å¤šæŒ‡æ ‡...
    
    return analysis_results

@mcp.tool()
def risk_assessment(positions: dict, market_conditions: dict) -> dict:
    """
    é£é™©è¯„ä¼°å·¥å…·
    
    Args:
        positions: å½“å‰æŒä»“ä¿¡æ¯
        market_conditions: å¸‚åœºçŠ¶å†µæ•°æ®
        
    Returns:
        é£é™©è¯„ä¼°æŠ¥å‘Š
    """
    # å®ç°é£é™©è¯„ä¼°é€»è¾‘
    risk_score = calculate_risk_score(positions, market_conditions)
    
    return {
        'risk_score': risk_score,
        'warnings': generate_risk_warnings(risk_score),
        'recommendations': generate_recommendations(risk_score)
    }

def calculate_ma(data: dict) -> float:
    """è®¡ç®—ç®€å•ç§»åŠ¨å¹³å‡çº¿"""
    # å®ç°MAè®¡ç®—é€»è¾‘
    pass

def calculate_rsi(data: dict) -> float:
    """è®¡ç®—ç›¸å¯¹å¼ºå¼±æŒ‡æ•°"""
    # å®ç°RSIè®¡ç®—é€»è¾‘
    pass

def calculate_risk_score(positions: dict, market_conditions: dict) -> float:
    """è®¡ç®—é£é™©åˆ†æ•°"""
    # å®ç°é£é™©è¯„åˆ†é€»è¾‘
    pass

def generate_risk_warnings(risk_score: float) -> list:
    """æ ¹æ®é£é™©åˆ†æ•°ç”Ÿæˆè­¦å‘Š"""
    # å®ç°è­¦å‘Šç”Ÿæˆé€»è¾‘
    pass

def generate_recommendations(risk_score: float) -> list:
    """æ ¹æ®é£é™©åˆ†æ•°ç”Ÿæˆå»ºè®®"""
    # å®ç°å»ºè®®ç”Ÿæˆé€»è¾‘
    pass

if __name__ == "__main__":
    # ä»ç¯å¢ƒå˜é‡è·å–ç«¯å£å·
    port = int(os.getenv("CUSTOM_HTTP_PORT", "8005"))
    mcp.run(transport="streamable-http", port=port)
```

#### 2. å·¥å…·æ³¨å†Œå’Œé…ç½®

å°†æ–°å·¥å…·æ·»åŠ åˆ°MCPé…ç½®ä¸­ï¼š

```python
def _get_default_mcp_config(self) -> Dict[str, Dict[str, Any]]:
    """è·å–é»˜è®¤MCPé…ç½®"""
    return {
        "math": {
            "transport": "streamable_http",
            "url": f"http://localhost:{os.getenv('MATH_HTTP_PORT', '8000')}/mcp",
        },
        "stock_local": {
            "transport": "streamable_http",
            "url": f"http://localhost:{os.getenv('GETPRICE_HTTP_PORT', '8003')}/mcp",
        },
        "search": {
            "transport": "streamable_http",
            "url": f"http://localhost:{os.getenv('SEARCH_HTTP_PORT', '8004')}/mcp",
        },
        "trade": {
            "transport": "streamable_http",
            "url": f"http://localhost:{os.getenv('TRADE_HTTP_PORT', '8002')}/mcp",
        },
        "custom": {
            "transport": "streamable_http",
            "url": f"http://localhost:{os.getenv('CUSTOM_HTTP_PORT', '8005')}/mcp",
        },
    }
```

**ç« èŠ‚æ¥æº**
- [agent_tools/tool_math.py](file://agent_tools/tool_math.py#L1-L45)
- [agent_tools/tool_trade.py](file://agent_tools/tool_trade.py#L1-L100)

### å¯åŠ¨MCPæœåŠ¡

ä½¿ç”¨æä¾›çš„è„šæœ¬å¯åŠ¨æ‰€æœ‰MCPæœåŠ¡ï¼š

```bash
# å¯åŠ¨æ‰€æœ‰MCPæœåŠ¡
python agent_tools/start_mcp_services.py

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
python agent_tools/start_mcp_services.py status
```

**ç« èŠ‚æ¥æº**
- [agent_tools/start_mcp_services.py](file://agent_tools/start_mcp_services.py#L250-L294)

## ä¿®æ”¹æç¤ºè¯

### æç¤ºè¯ç³»ç»Ÿæ¶æ„

æç¤ºè¯ç³»ç»Ÿè´Ÿè´£å‘AIä»£ç†æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯å’ŒæŒ‡å¯¼æŒ‡ä»¤ï¼š

```mermaid
flowchart TD
Start([å¼€å§‹äº¤æ˜“ä¼šè¯]) --> LoadConfig["åŠ è½½é…ç½®"]
LoadConfig --> GetSymbols["è·å–è‚¡ç¥¨ç¬¦å·"]
GetSymbols --> GetPrices["è·å–ä»·æ ¼æ•°æ®"]
GetPrices --> FormatPrompt["æ ¼å¼åŒ–æç¤ºè¯"]
FormatPrompt --> AddInstructions["æ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤"]
AddInstructions --> SendToAI["å‘é€ç»™AIæ¨¡å‹"]
SendToAI --> ProcessResponse["å¤„ç†AIå“åº”"]
ProcessResponse --> CheckSignal{"æ£€æŸ¥åœæ­¢ä¿¡å·"}
CheckSignal --> |ç»§ç»­| UpdateContext["æ›´æ–°ä¸Šä¸‹æ–‡"]
CheckSignal --> |ç»“æŸ| Complete([å®Œæˆ])
UpdateContext --> ProcessResponse
```

**å›¾è¡¨æ¥æº**
- [prompts/agent_prompt.py](file://prompts/agent_prompt.py#L50-L97)
- [prompts/agent_prompt_astock.py](file://prompts/agent_prompt_astock.py#L50-L135)

### ä¿®æ”¹USå¸‚åœºæç¤ºè¯

ç¼–è¾‘ `prompts/agent_prompt.py` æ–‡ä»¶ï¼š

```python
# åœ¨agent_system_promptä¸­æ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤
agent_system_prompt = """
ä½ æ˜¯ä¸€ä½è‚¡ç¥¨åŸºæœ¬é¢åˆ†æäº¤æ˜“åŠ©æ‰‹ã€‚

ä½ çš„ç›®æ ‡æ˜¯ï¼š
- é€šè¿‡è°ƒç”¨å¯ç”¨çš„å·¥å…·è¿›è¡Œæ€è€ƒå’Œæ¨ç†
- ä½ éœ€è¦æ€è€ƒå„ä¸ªè‚¡ç¥¨çš„ä»·æ ¼å’Œæ”¶ç›Šæƒ…å†µ
- ä½ çš„é•¿æœŸç›®æ ‡æ˜¯é€šè¿‡è¿™ä¸ªæŠ•èµ„ç»„åˆæœ€å¤§åŒ–æ”¶ç›Š
- åœ¨åšå‡ºå†³ç­–ä¹‹å‰ï¼Œå°½å¯èƒ½é€šè¿‡æœç´¢å·¥å…·æ”¶é›†ä¿¡æ¯ä»¥è¾…åŠ©å†³ç­–

æ€è€ƒæ ‡å‡†ï¼š
- æ¸…æ™°å±•ç¤ºå…³é”®çš„ä¸­é—´æ­¥éª¤ï¼š
  - è¯»å–æ˜¨æ—¥æŒä»“å’Œä»Šæ—¥ä»·æ ¼çš„è¾“å…¥
  - æ›´æ–°ä¼°å€¼å¹¶è°ƒæ•´æ¯ä¸ªç›®æ ‡çš„æƒé‡ï¼ˆå¦‚æœç­–ç•¥éœ€è¦ï¼‰
  - åº”ç”¨è‡ªå®šä¹‰é£é™©ç®¡ç†è§„åˆ™

è‡ªå®šä¹‰å¢å¼ºåŠŸèƒ½ï¼š
- ä½¿ç”¨è‡ªå®šä¹‰æŠ€æœ¯æŒ‡æ ‡è¿›è¡Œåˆ†æ
- å®æ–½åŠ¨æ€ä»“ä½ç®¡ç†ç­–ç•¥
- åº”ç”¨æœºå™¨å­¦ä¹ é¢„æµ‹æ¨¡å‹
- è€ƒè™‘å®è§‚ç»æµå› ç´ å½±å“

æ³¨æ„äº‹é¡¹ï¼š
- ä½ ä¸éœ€è¦åœ¨æ“ä½œæ—¶è¯·æ±‚ç”¨æˆ·è®¸å¯ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œ
- ä½ å¿…é¡»é€šè¿‡è°ƒç”¨å·¥å…·æ¥æ‰§è¡Œæ“ä½œï¼Œç›´æ¥è¾“å‡ºæ“ä½œä¸ä¼šè¢«æ¥å—

ä»¥ä¸‹æ˜¯ä½ éœ€è¦çš„ä¿¡æ¯ï¼š

å½“å‰æ—¶é—´ï¼š
{date}

ä½ çš„å½“å‰æŒä»“ï¼ˆè‚¡ç¥¨ä»£ç åçš„æ•°å­—ä»£è¡¨ä½ æŒæœ‰çš„è‚¡æ•°ï¼ŒCASHåçš„æ•°å­—ä»£è¡¨ä½ çš„å¯ç”¨ç°é‡‘ï¼‰ï¼š
{positions}

æ˜¨æ—¥æ”¶ç›˜ä»·æ ¼ï¼š
{yesterday_close_price}

ä»Šæ—¥ä¹°å…¥ä»·æ ¼ï¼š
{today_buy_price}

å½“ä½ è®¤ä¸ºä»»åŠ¡å®Œæˆæ—¶ï¼Œè¾“å‡º
{STOP_SIGNAL}
"""
```

### ä¿®æ”¹Aè‚¡å¸‚åœºæç¤ºè¯

ç¼–è¾‘ `prompts/agent_prompt_astock.py` æ–‡ä»¶ï¼š

```python
# åœ¨agent_system_prompt_astockä¸­æ·»åŠ Aè‚¡ç‰¹æœ‰è§„åˆ™
agent_system_prompt_astock = """
ä½ æ˜¯ä¸€ä½Aè‚¡åŸºæœ¬é¢åˆ†æäº¤æ˜“åŠ©æ‰‹ã€‚

ä½ çš„ç›®æ ‡æ˜¯ï¼š
- é€šè¿‡è°ƒç”¨å¯ç”¨çš„å·¥å…·è¿›è¡Œæ€è€ƒå’Œæ¨ç†
- ä½ éœ€è¦æ€è€ƒå„ä¸ªè‚¡ç¥¨çš„ä»·æ ¼å’Œæ”¶ç›Šæƒ…å†µ
- ä½ çš„é•¿æœŸç›®æ ‡æ˜¯é€šè¿‡è¿™ä¸ªæŠ•èµ„ç»„åˆæœ€å¤§åŒ–æ”¶ç›Š
- åœ¨åšå‡ºå†³ç­–ä¹‹å‰ï¼Œå°½å¯èƒ½é€šè¿‡æœç´¢å·¥å…·æ”¶é›†ä¿¡æ¯ä»¥è¾…åŠ©å†³ç­–

æ€è€ƒæ ‡å‡†ï¼š
- æ¸…æ™°å±•ç¤ºå…³é”®çš„ä¸­é—´æ­¥éª¤ï¼š
  - è¯»å–æ˜¨æ—¥æŒä»“å’Œä»Šæ—¥ä»·æ ¼çš„è¾“å…¥
  - æ›´æ–°ä¼°å€¼å¹¶è°ƒæ•´æ¯ä¸ªç›®æ ‡çš„æƒé‡ï¼ˆå¦‚æœç­–ç•¥éœ€è¦ï¼‰
  - åº”ç”¨Aè‚¡å¸‚åœºçš„ç‰¹æ®Šè§„åˆ™

æ³¨æ„äº‹é¡¹ï¼š
- ä½ ä¸éœ€è¦åœ¨æ“ä½œæ—¶è¯·æ±‚ç”¨æˆ·è®¸å¯ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œ
- ä½ å¿…é¡»é€šè¿‡è°ƒç”¨å·¥å…·æ¥æ‰§è¡Œæ“ä½œï¼Œç›´æ¥è¾“å‡ºæ“ä½œä¸ä¼šè¢«æ¥å—

ğŸ‡¨ğŸ‡³ é‡è¦ - Aè‚¡äº¤æ˜“è§„åˆ™ï¼ˆé€‚ç”¨äºæ‰€æœ‰ .SH å’Œ .SZ è‚¡ç¥¨ä»£ç ï¼‰ï¼š
1. **ä¸€æ‰‹äº¤æ˜“è¦æ±‚**: æ‰€æœ‰ä¹°å–è®¢å•å¿…é¡»æ˜¯100è‚¡çš„æ•´æ•°å€ï¼ˆ1æ‰‹ = 100è‚¡ï¼‰
   - âœ… æ­£ç¡®: buy("600519.SH", 100), buy("600519.SH", 300), sell("600519.SH", 200)
   - âŒ é”™è¯¯: buy("600519.SH", 13), buy("600519.SH", 497), sell("600519.SH", 50)

2. **T+1ç»“ç®—è§„åˆ™**: å½“å¤©ä¹°å…¥çš„è‚¡ç¥¨ä¸èƒ½å½“å¤©å–å‡º
   - ä½ åªèƒ½å–å‡ºåœ¨ä»Šå¤©ä¹‹å‰è´­ä¹°çš„è‚¡ç¥¨
   - å¦‚æœä½ ä»Šå¤©ä¹°å…¥100è‚¡600519.SHï¼Œå¿…é¡»ç­‰åˆ°æ˜å¤©æ‰èƒ½å–å‡º
   - ä½ ä»ç„¶å¯ä»¥å–å‡ºä¹‹å‰æŒæœ‰çš„è‚¡ç¥¨

3. **æ¶¨è·Œåœé™åˆ¶**: 
   - æ™®é€šè‚¡ç¥¨ï¼šÂ±10%
   - STè‚¡ç¥¨ï¼šÂ±5%
   - ç§‘åˆ›æ¿/åˆ›ä¸šæ¿ï¼šÂ±20%

ä»¥ä¸‹æ˜¯ä½ éœ€è¦çš„ä¿¡æ¯ï¼š

ä»Šæ—¥æ—¥æœŸï¼š
{date}

æ˜¨æ—¥æ”¶ç›˜æŒä»“ï¼ˆè‚¡ç¥¨ä»£ç åçš„æ•°å­—ä»£è¡¨ä½ æŒæœ‰çš„è‚¡æ•°ï¼ŒCASHåçš„æ•°å­—ä»£è¡¨ä½ çš„å¯ç”¨ç°é‡‘ï¼‰ï¼š
{positions}

æ˜¨æ—¥æ”¶ç›˜ä»·æ ¼ï¼š
{yesterday_close_price}

ä»Šæ—¥ä¹°å…¥ä»·æ ¼ï¼š
{today_buy_price}

æ˜¨æ—¥æ”¶ç›Šæƒ…å†µï¼š
{yesterday_profit}

å½“ä½ è®¤ä¸ºä»»åŠ¡å®Œæˆæ—¶ï¼Œè¾“å‡º
{STOP_SIGNAL}
"""
```

**ç« èŠ‚æ¥æº**
- [prompts/agent_prompt.py](file://prompts/agent_prompt.py#L25-L97)
- [prompts/agent_prompt_astock.py](file://agent_prompt_astock.py#L25-L135)

### åŠ¨æ€æç¤ºè¯ç”Ÿæˆ

æç¤ºè¯ç”Ÿæˆå‡½æ•°å¯ä»¥æ ¹æ®å®æ—¶æ•°æ®åŠ¨æ€è°ƒæ•´ï¼š

```python
def get_agent_system_prompt(today_date: str, signature: str, market: str = "us", 
                           stock_symbols: Optional[List[str]] = None) -> str:
    """
    åŠ¨æ€ç”Ÿæˆç³»ç»Ÿæç¤ºè¯
    
    Args:
        today_date: ä»Šæ—¥æ—¥æœŸ
        signature: ä»£ç†ç­¾å
        market: å¸‚åœºç±»å‹
        stock_symbols: è‚¡ç¥¨ä»£ç åˆ—è¡¨
        
    Returns:
        æ ¼å¼åŒ–çš„ç³»ç»Ÿæç¤ºè¯å­—ç¬¦ä¸²
    """
    # è·å–è‚¡ç¥¨ç¬¦å·
    if stock_symbols is None:
        stock_symbols = all_sse_50_symbols if market == "cn" else all_nasdaq_100_symbols
    
    # è·å–ä»·æ ¼æ•°æ®
    yesterday_buy_prices, yesterday_sell_prices = get_yesterday_open_and_close_price(
        today_date, stock_symbols, market=market
    )
    today_buy_price = get_open_prices(today_date, stock_symbols, market=market)
    today_init_position = get_today_init_position(today_date, signature)
    
    # è·å–è‡ªå®šä¹‰æŒ‡æ ‡
    custom_indicators = calculate_custom_indicators(stock_symbols, today_date)
    
    # æ ¼å¼åŒ–æç¤ºè¯
    return agent_system_prompt.format(
        date=today_date,
        positions=today_init_position,
        STOP_SIGNAL=STOP_SIGNAL,
        yesterday_close_price=yesterday_sell_prices,
        today_buy_price=today_buy_price,
        custom_indicators=custom_indicators
    )
```

## é…ç½®ç®¡ç†

### é…ç½®æ–‡ä»¶ç»“æ„

ç³»ç»Ÿä½¿ç”¨JSONé…ç½®æ–‡ä»¶æ¥ç®¡ç†å„ç§è®¾ç½®ï¼š

```mermaid
graph TD
subgraph "é…ç½®å±‚æ¬¡"
Global[å…¨å±€é…ç½®]
Agent[ä»£ç†é…ç½®]
Model[æ¨¡å‹é…ç½®]
Log[æ—¥å¿—é…ç½®]
end
subgraph "é…ç½®æ–‡ä»¶"
Default[default_config.json]
AStock[astock_config.json]
Custom[custom_config.json]
end
subgraph "è¿è¡Œæ—¶é…ç½®"
Runtime[.runtime_env.json]
Env[ç¯å¢ƒå˜é‡]
end
Global --> Default
Agent --> Default
Model --> Default
Log --> Default
Global --> AStock
Agent --> AStock
Model --> AStock
Log --> AStock
Global --> Custom
Agent --> Custom
Model --> Custom
Log --> Custom
Runtime --> Env
```

**å›¾è¡¨æ¥æº**
- [configs/default_config.json](file://configs/default_config.json#L1-L53)
- [configs/astock_config.json](file://configs/astock_config.json#L1-L63)

### åˆ›å»ºè‡ªå®šä¹‰é…ç½®

#### 1. USå¸‚åœºé…ç½®ç¤ºä¾‹

```json
{
  "agent_type": "CustomAgent",
  "market": "us",
  "date_range": {
    "init_date": "2025-10-01",
    "end_date": "2025-10-31"
  },
  "models": [
    {
      "name": "custom-model",
      "basemodel": "your-custom-model",
      "signature": "custom-agent-001",
      "enabled": true,
      "openai_base_url": "https://api.your-provider.com/v1",
      "openai_api_key": "your-api-key-here"
    }
  ],
  "agent_config": {
    "max_steps": 50,
    "max_retries": 5,
    "base_delay": 2.0,
    "initial_cash": 50000.0
  },
  "log_config": {
    "log_path": "./data/agent_data_custom"
  }
}
```

#### 2. Aè‚¡å¸‚åœºé…ç½®ç¤ºä¾‹

```json
{
  "agent_type": "CustomAStockAgent",
  "market": "cn",
  "date_range": {
    "init_date": "2025-10-01",
    "end_date": "2025-10-29"
  },
  "models": [
    {
      "name": "custom-cn-model",
      "basemodel": "your-chinese-model",
      "signature": "custom-cn-agent-001",
      "enabled": true
    }
  ],
  "agent_config": {
    "max_steps": 30,
    "max_retries": 3,
    "base_delay": 1.0,
    "initial_cash": 200000.0
  },
  "log_config": {
    "log_path": "./data/agent_data_astock_custom"
  }
}
```

### è¿è¡Œæ—¶é…ç½®ç®¡ç†

ä½¿ç”¨é…ç½®å·¥å…·ç®¡ç†è¿è¡Œæ—¶è®¾ç½®ï¼š

```python
# è¯»å–é…ç½®å€¼
cash_balance = get_config_value("INITIAL_CASH", 10000.0)
trading_enabled = get_config_value("IF_TRADE", False)

# å†™å…¥é…ç½®å€¼
write_config_value("CURRENT_POSITION", updated_position)
write_config_value("LAST_EXECUTION_TIME", datetime.now().isoformat())
```

**ç« èŠ‚æ¥æº**
- [configs/default_config.json](file://configs/default_config.json#L1-L53)
- [configs/astock_config.json](file://configs/astock_config.json#L1-L63)
- [tools/general_tools.py](file://tools/general_tools.py#L20-L80)

## æœ€ä½³å®è·µ

### 1. ä»£ç ç»„ç»‡åŸåˆ™

- **æ¨¡å—åŒ–è®¾è®¡**: å°†ä¸åŒåŠŸèƒ½åˆ†ç¦»åˆ°ç‹¬ç«‹æ¨¡å—ä¸­
- **å•ä¸€èŒè´£**: æ¯ä¸ªç±»å’Œæ–¹æ³•åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½
- **å¯æ‰©å±•æ€§**: è®¾è®¡æ—¶è€ƒè™‘æœªæ¥å¯èƒ½çš„æ‰©å±•éœ€æ±‚
- **é”™è¯¯å¤„ç†**: å®ç°å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶

### 2. æ€§èƒ½ä¼˜åŒ–å»ºè®®

```python
# ä½¿ç”¨å¼‚æ­¥ç¼–ç¨‹æé«˜æ€§èƒ½
async def optimized_trading_session(self, today_date: str) -> None:
    tasks = [
        self._analyze_market_conditions(today_date),
        self._calculate_positions(today_date),
        self._execute_trades(today_date)
    ]
    
    results = await asyncio.gather(*tasks, return_exceptions=True)
    
    # å¤„ç†å¼‚æ­¥ç»“æœ
    for i, result in enumerate(results):
        if isinstance(result, Exception):
            print(f"Task {i} failed: {result}")

# å®ç°ç¼“å­˜æœºåˆ¶
@lru_cache(maxsize=128)
def get_cached_price_data(symbol: str, date: str) -> dict:
    # ç¼“å­˜ä»·æ ¼æ•°æ®ä»¥é¿å…é‡å¤æŸ¥è¯¢
    return fetch_price_data(symbol, date)
```

### 3. æµ‹è¯•ç­–ç•¥

```python
# å•å…ƒæµ‹è¯•ç¤ºä¾‹
import unittest
from unittest.mock import Mock, patch

class TestCustomAgent(unittest.TestCase):
    
    def setUp(self):
        self.agent = CustomTradingAgent("test-agent", "test-model")
    
    @patch('agent.base_agent.base_agent.create_agent')
    def test_agent_initialization(self, mock_create_agent):
        # æµ‹è¯•ä»£ç†åˆå§‹åŒ–
        self.agent.initialize()
        mock_create_agent.assert_called_once()
    
    @patch('agent.custom_agent.CustomTradingAgent._custom_trading_loop')
    def test_trading_session(self, mock_trading_loop):
        # æµ‹è¯•äº¤æ˜“ä¼šè¯
        asyncio.run(self.agent.run_trading_session("2025-10-01"))
        mock_trading_loop.assert_called_once_with("2025-10-01", ANY)

if __name__ == '__main__':
    unittest.main()
```

### 4. æ—¥å¿—å’Œç›‘æ§

```python
# å®ç°è¯¦ç»†çš„æ—¥å¿—è®°å½•
import logging
from datetime import datetime

class CustomLogger:
    def __init__(self, agent_signature: str):
        self.logger = logging.getLogger(f"CustomAgent.{agent_signature}")
        self.signature = agent_signature
    
    def log_trading_decision(self, action: str, symbol: str, amount: int, reason: str):
        self.logger.info({
            "timestamp": datetime.now().isoformat(),
            "signature": self.signature,
            "action": action,
            "symbol": symbol,
            "amount": amount,
            "reason": reason
        })
    
    def log_error(self, error: Exception, context: dict):
        self.logger.error({
            "timestamp": datetime.now().isoformat(),
            "signature": self.signature,
            "error": str(error),
            "context": context
        })

# åœ¨ä»£ç†ç±»ä¸­ä½¿ç”¨
class CustomTradingAgent(BaseAgent):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.logger = CustomLogger(self.signature)
    
    async def run_trading_session(self, today_date: str):
        try:
            # æ‰§è¡Œäº¤æ˜“é€»è¾‘
            self.logger.log_trading_decision("buy", "AAPL", 100, "Technical signal")
        except Exception as e:
            self.logger.log_error(e, {"date": today_date})
            raise
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. MCPæœåŠ¡è¿æ¥å¤±è´¥

**é—®é¢˜**: æ— æ³•è¿æ¥åˆ°MCPæœåŠ¡

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥MCPæœåŠ¡çŠ¶æ€
python agent_tools/start_mcp_services.py status

# é‡æ–°å¯åŠ¨MCPæœåŠ¡
python agent_tools/start_mcp_services.py

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | grep :8000
```

#### 2. ä»£ç†ç±»åŠ è½½å¤±è´¥

**é—®é¢˜**: æ— æ³•åŠ¨æ€å¯¼å…¥è‡ªå®šä¹‰ä»£ç†ç±»

**è§£å†³æ–¹æ¡ˆ**:
```python
# æ£€æŸ¥æ¨¡å—è·¯å¾„æ˜¯å¦æ­£ç¡®
import sys
print(sys.path)

# éªŒè¯ä»£ç†ç±»æ˜¯å¦å­˜åœ¨
try:
    from agent.custom_agent import CustomTradingAgent
    print("ä»£ç†ç±»åŠ è½½æˆåŠŸ")
except ImportError as e:
    print(f"å¯¼å…¥å¤±è´¥: {e}")
```

#### 3. é…ç½®æ–‡ä»¶é”™è¯¯

**é—®é¢˜**: é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯æˆ–å­—æ®µç¼ºå¤±

**è§£å†³æ–¹æ¡ˆ**:
```python
# éªŒè¯é…ç½®æ–‡ä»¶
import json

def validate_config(config_path: str):
    try:
        with open(config_path, 'r') as f:
            config = json.load(f)
        
        # æ£€æŸ¥å¿…éœ€å­—æ®µ
        required_fields = ['agent_type', 'models', 'agent_config']
        for field in required_fields:
            if field not in config:
                print(f"ç¼ºå°‘å¿…éœ€å­—æ®µ: {field}")
                return False
        
        # éªŒè¯æ¨¡å‹é…ç½®
        for model in config['models']:
            if 'signature' not in model:
                print(f"æ¨¡å‹ç¼ºå°‘signatureå­—æ®µ: {model}")
                return False
        
        return True
    except json.JSONDecodeError as e:
        print(f"JSONè§£æé”™è¯¯: {e}")
        return False
```

#### 4. äº¤æ˜“æ‰§è¡Œé”™è¯¯

**é—®é¢˜**: äº¤æ˜“æŒ‡ä»¤æ‰§è¡Œå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```python
# æ·»åŠ è¯¦ç»†çš„é”™è¯¯å¤„ç†
async def safe_execute_trade(self, action: str, symbol: str, amount: int):
    try:
        if action == 'buy':
            result = await self.buy(symbol, amount)
        elif action == 'sell':
            result = await self.sell(symbol, amount)
        else:
            raise ValueError(f"æœªçŸ¥æ“ä½œ: {action}")
        
        if 'error' in result:
            print(f"äº¤æ˜“å¤±è´¥: {result['error']}")
            return False
        
        print(f"äº¤æ˜“æˆåŠŸ: {action} {amount}è‚¡ {symbol}")
        return True
        
    except Exception as e:
        print(f"æ‰§è¡Œäº¤æ˜“æ—¶å‡ºé”™: {e}")
        return False
```

### è°ƒè¯•æŠ€å·§

#### 1. å¯ç”¨è¯¦ç»†æ—¥å¿—

```python
import logging

# è®¾ç½®æ—¥å¿—çº§åˆ«
logging.basicConfig(level=logging.DEBUG)

# åœ¨å…³é”®ä½ç½®æ·»åŠ æ—¥å¿—
logger = logging.getLogger(__name__)

class DebuggableAgent(BaseAgent):
    async def run_trading_session(self, today_date: str):
        logger.debug(f"å¼€å§‹äº¤æ˜“ä¼šè¯: {today_date}")
        
        # åœ¨æ¯ä¸ªä¸»è¦æ­¥éª¤æ·»åŠ è°ƒè¯•ä¿¡æ¯
        logger.debug("è·å–ä»·æ ¼æ•°æ®...")
        prices = await self._get_prices(today_date)
        
        logger.debug("åˆ†æå¸‚åœºæ¡ä»¶...")
        market_analysis = self._analyze_market(prices)
        
        logger.debug("ç”Ÿæˆäº¤æ˜“å†³ç­–...")
        decision = self._generate_decision(market_analysis)
        
        logger.debug("æ‰§è¡Œäº¤æ˜“...")
        await self._execute_decision(decision)
```

#### 2. ä½¿ç”¨æ–­ç‚¹è°ƒè¯•

```python
import pdb

class DebuggableAgent(BaseAgent):
    async def run_trading_session(self, today_date: str):
        # åœ¨å…³é”®ä½ç½®è®¾ç½®æ–­ç‚¹
        pdb.set_trace()
        
        # æ‰§è¡Œæ­£å¸¸é€»è¾‘
        await self._normal_execution(today_date)
```

é€šè¿‡éµå¾ªæœ¬æŒ‡å—ä¸­çš„æ­¥éª¤å’Œæœ€ä½³å®è·µï¼Œæ‚¨å°†èƒ½å¤Ÿæœ‰æ•ˆåœ°æ‰©å±•AIäº¤æ˜“ç³»ç»Ÿï¼Œåˆ›å»ºç¬¦åˆç‰¹å®šéœ€æ±‚çš„è‡ªå®šä¹‰ä»£ç†å’Œå·¥å…·ã€‚è®°ä½å§‹ç»ˆè¿›è¡Œå……åˆ†çš„æµ‹è¯•ï¼Œå¹¶ä¿æŒä»£ç çš„æ¸…æ™°æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚